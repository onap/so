{
  "comments": [
    {
      "key": {
        "uuid": "1a014df3_e1c4f060",
        "filename": "packages/docker/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 23
      },
      "writtenOn": "2017-03-07T10:42:44Z",
      "side": 1,
      "message": "1. please keep the naming convention to define maven variable. Something like \"mso.git.url\", etc ...\n2. Do not hard-code the value to https://gerrit.openecomp.org/r, please keep the ${env.GIT_NO_PROJECT}. This variable is defined on the LF environment for jenkins",
      "revId": "18b454ff736e16e5f78d9271ae1e8f47def36f65",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a014df3_6187c010",
        "filename": "packages/docker/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 137
      },
      "writtenOn": "2017-03-07T12:55:25Z",
      "side": 1,
      "message": "When compiling locally, build is failing because it can\u0027t resolve ${env.GIT_NO_PROJECT}, so how should I proceed to fix local build if I can\u0027t hard-code the value in a maven property?",
      "parentUuid": "1a014df3_e1c4f060",
      "revId": "18b454ff736e16e5f78d9271ae1e8f47def36f65",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a014df3_41ca8450",
        "filename": "packages/docker/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 23
      },
      "writtenOn": "2017-03-07T13:21:59Z",
      "side": 1,
      "message": "As is, you must set the env variable \"GIT_NO_PROJECT\" before starting the mvn command.\n\nNow, I understand that you want to provide it as a maven param (with -Dmso.git.url\u003d\u003cGitRepoUrl\u003e in argument).\n\nTherefore what I suggest is:\n1. Rename GERRIT_URL to mso.git.url (to stay in line with the naming convention)\n2. The default value for this new variable must be set to \"${env.GIT_NO_PROJECT}\". Because this env var is defined in the jenkins jobs to do the release/staging builds.",
      "parentUuid": "1a014df3_6187c010",
      "revId": "18b454ff736e16e5f78d9271ae1e8f47def36f65",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a014df3_21ce585b",
        "filename": "packages/docker/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 137
      },
      "writtenOn": "2017-03-07T13:54:08Z",
      "side": 1,
      "message": "\u003e Now, I understand that you want to provide it as a maven param (with -Dmso.git.url\u003d\u003cGitRepoUrl\u003e in argument).\n\nNo, this is not really what I\u0027m saying. This would mean each time one wants to compile the mso/package/docker project, one will have to pass as argument the `mso.git.url`. This doesn\u0027t make sense as this url will/should never change, so it should be fine hard-coding it.\nI\u0027m still not sure to understand the benefit of this env.GIT_NO_PROJECT variable that Jenkins populate.\n\nI understand this URL might change in the near future to reflect onap instead of ecomp, but this change shouldn\u0027t be the driver of not hard-coding a value that will be sealed in stone afterward.\n\nAm I missing something?\n\n\u003e 1. Rename GERRIT_URL to mso.git.url (to stay in line with the naming convention)\n\nAck.",
      "parentUuid": "1a014df3_41ca8450",
      "revId": "18b454ff736e16e5f78d9271ae1e8f47def36f65",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a014df3_21f53883",
        "filename": "packages/docker/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 23
      },
      "writtenOn": "2017-03-07T14:47:54Z",
      "side": 1,
      "message": "This would mean each time one wants to compile the mso/package/docker project, one will have to pass as argument the `mso.git.url`. This doesn\u0027t make sense as this url will/should never change, so it should be fine hard-coding it.\n\n--\u003e Yes and I understand very well, that\u0027s annoying :-(\nBut what you are missing is: \nYou break our jenkins build with this(Docker profile enabled). We need to change the jenkins job template if we go there. Currently the var GIT_NO_PROJECT defines a SSH gerrit link with a specific user for jenkins.\nNote that: \n- The jenkins job executed in the Pull Request DOES not execute the docker profile so your change can\u0027t be validated.\n- Openecomp gerrit is not yet public and requires creds to access the code over HTTPS\n\nSo unless we change the jenkins templates for all ECOMP components, the default value must be set to ${env.GIT_NO_PROJECT}\n\nWe could probably add a comment in the pom description:\nIf the maven profile \"docker\" is specified the parameter \n-Dmso.git.url\u003d\u003cMsoGitRepo\u003e must be provided !\ne.g:\nmvn clean install -P docker -Dmso.git.url\u003dhttps://gerrit.openecomp.org/r",
      "parentUuid": "1a014df3_21ce585b",
      "revId": "18b454ff736e16e5f78d9271ae1e8f47def36f65",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a014df3_e1ee30b4",
        "filename": "packages/docker/pom.xml",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 137
      },
      "writtenOn": "2017-03-07T15:53:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a014df3_21f53883",
      "revId": "18b454ff736e16e5f78d9271ae1e8f47def36f65",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}