<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="_MagIIMOUEeW8asg-vCEgWQ" exporter="camunda modeler" exporterVersion="2.7.0" targetNamespace="http://camunda.org/schema/1.0/bpmn">
  <bpmn2:process id="UpdateNetworkInstanceInfra" name="UpdateNetworkInstanceInfra" isExecutable="true">
    <bpmn2:startEvent id="updateNetwork_startEvent" name="Start Flow">
      <bpmn2:outgoing>SequenceFlow_1</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_1" name="" sourceRef="updateNetwork_startEvent" targetRef="preProcessRequest_ScriptTask"/>
    <bpmn2:scriptTask id="prepareSDNCTopoRequest_ScriptTask" name="Prepare SDNC Topology Request" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_32</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.prepareSDNCRequest(execution)
]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_11" name="" sourceRef="prepareSDNCTopoRequest_ScriptTask" targetRef="callAssignSDNCAdapter_CallActivity"/>
    <bpmn2:scriptTask id="validateSDNCResponse_ScriptTask" name="Validate SDNC Response" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.validateSDNCResponse(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="isSdncTopoOk_ExclusiveGateway" name="Is SDNC Ok?" default="sdncTopoNo_SequenceFlow">
      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>
      <bpmn2:outgoing>sdncTopoNo_SequenceFlow</bpmn2:outgoing>
      <bpmn2:outgoing>sdncTopoYes_SequenceFlow</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:sequenceFlow id="sdncTopoNo_SequenceFlow" name="No" sourceRef="isSdncTopoOk_ExclusiveGateway" targetRef="sndcError_EndEvent"/>
    <bpmn2:sequenceFlow id="sdncTopoYes_SequenceFlow" name="Yes" sourceRef="isSdncTopoOk_ExclusiveGateway" targetRef="callRESTReQuery1NetworkID_ScriptTask">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[#{execution.getVariable("UPDNETI_sdncResponseSuccess" ) == true}]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="SequenceFlow_5" name="" sourceRef="validateSDNCResponse_ScriptTask" targetRef="isSdncTopoOk_ExclusiveGateway"/>
    <bpmn2:boundaryEvent id="BoundaryEvent_4" name="" attachedToRef="validateSDNCResponse_ScriptTask">
      <bpmn2:outgoing>SequenceFlow_34</bpmn2:outgoing>
      <bpmn2:errorEventDefinition id="_ErrorEventDefinition_84" errorRef="Error_2"/>
    </bpmn2:boundaryEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_34" name="" sourceRef="BoundaryEvent_4" targetRef="sndcError_EndEvent"/>
    <bpmn2:endEvent id="sndcError_EndEvent" name="SNDC Error">
      <bpmn2:incoming>sdncTopoNo_SequenceFlow</bpmn2:incoming>
      <bpmn2:incoming>SequenceFlow_34</bpmn2:incoming>
      <bpmn2:errorEventDefinition id="_ErrorEventDefinition_57" errorRef="Error_2"/>
    </bpmn2:endEvent>
    <bpmn2:callActivity id="callRollbackSDNCAdapter_CallActivity" name="Call Rollback SDNC Adapter" isForCompensation="true" calledElement="sdncAdapter">
      <bpmn2:extensionElements>
        <camunda:in source="UPDNETI_rollbackSDNCRequest" target="sdncAdapterWorkflowRequest"/>
        <camunda:in source="mso-request-id" target="mso-request-id"/>
        <camunda:in source="mso-service-instance-id" target="mso-service-instance-id"/>
        <camunda:out source="SDNCA_ResponseCode" target="UPDNETI_rollbackSDNCReturnCode"/>
        <camunda:out source="sdncAdapterResponse" target="UPDNETI_rollbackSDNCResponse"/>
      </bpmn2:extensionElements>
    </bpmn2:callActivity>
    <bpmn2:boundaryEvent id="sndcCompensation_BoundaryEvent" attachedToRef="callAssignSDNCAdapter_CallActivity">
      <bpmn2:compensateEventDefinition id="CompensateEventDefinition_1" waitForCompletion="true"/>
    </bpmn2:boundaryEvent>
    <bpmn2:callActivity id="callAssignSDNCAdapter_CallActivity" name="Call SDNC Assign Adapter V1 Sub-process" calledElement="sdncAdapter">
      <bpmn2:extensionElements>
        <camunda:in source="UPDNETI_changeAssignSDNCRequest" target="sdncAdapterWorkflowRequest"/>
        <camunda:out source="sdncAdapterResponse" target="UPDNETI_changeAssignSDNCResponse"/>
        <camunda:out source="SDNCA_ResponseCode" target="UPDNETI_sdncReturnCode"/>
        <camunda:in source="mso-request-id" target="mso-request-id"/>
        <camunda:in source="mso-service-instance-id" target="mso-service-instance-id"/>
        <camunda:out source="WorkflowException" target="UPDNETI_WorkflowException"/>
        <camunda:out source="SDNCA_SuccessIndicator" target="SDNCA_SuccessIndicator"/>
        <camunda:in variables="all"/>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>
    </bpmn2:callActivity>
    <bpmn2:sequenceFlow id="SequenceFlow_12" name="" sourceRef="callAssignSDNCAdapter_CallActivity" targetRef="validateSDNCResponse_ScriptTask"/>
    <bpmn2:scriptTask id="postProcessAndCompletionRequest_ScriptTask" name="Post Process &amp; Completion Request" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_27</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_29</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.postProcessResponse(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_29" name="" sourceRef="postProcessAndCompletionRequest_ScriptTask" targetRef="callCompleteMsoProcess_CallActivity"/>
    <bpmn2:subProcess id="subProcessException_SubProcess" name="Subprocess For Exception / FalloutHandler " triggeredByEvent="true">
      <bpmn2:exclusiveGateway id="isRollbackOn_Network_ExclusiveGateway" name="Is Rollback On?" default="isRollbackOn_NoNetwork_SequenceFlow">
        <bpmn2:incoming>SequenceFlow_23</bpmn2:incoming>
        <bpmn2:outgoing>isRollbackOn_YesNetwork_SequenceFlow</bpmn2:outgoing>
        <bpmn2:outgoing>isRollbackOn_NoNetwork_SequenceFlow</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:sequenceFlow id="isRollbackOn_YesNetwork_SequenceFlow" name="Yes" sourceRef="isRollbackOn_Network_ExclusiveGateway" targetRef="isPONR_ExclusiveGateway">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[#{execution.getVariable("UPDNETI_rollbackEnabled") == true}]]></bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:sequenceFlow id="isRollbackOn_NoNetwork_SequenceFlow" name="No" sourceRef="isRollbackOn_Network_ExclusiveGateway" targetRef="InclusiveGateway_6"/>
      <bpmn2:startEvent id="subProcessStart_StartEvent" name="Fault Start">
        <bpmn2:outgoing>SequenceFlow_23</bpmn2:outgoing>
        <bpmn2:errorEventDefinition id="ErrorEventDefinition_1" errorRef="Error_2"/>
      </bpmn2:startEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_23" name="" sourceRef="subProcessStart_StartEvent" targetRef="isRollbackOn_Network_ExclusiveGateway"/>
      <bpmn2:exclusiveGateway id="isPONR_ExclusiveGateway" name="isPONR?" default="isPONR_No_SequenceFlow">
        <bpmn2:incoming>isRollbackOn_YesNetwork_SequenceFlow</bpmn2:incoming>
        <bpmn2:outgoing>isPONR_Yes_SequenceFlow</bpmn2:outgoing>
        <bpmn2:outgoing>isPONR_No_SequenceFlow</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:sequenceFlow id="isPONR_Yes_SequenceFlow" name="Yes" sourceRef="isPONR_ExclusiveGateway" targetRef="InclusiveGateway_6">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[#{execution.getVariable("UPDNETI_isPONR") == true}]]></bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:sequenceFlow id="isPONR_No_SequenceFlow" name="No" sourceRef="isPONR_ExclusiveGateway" targetRef="isNetworkOk_ExclusiveGateway"/>
      <bpmn2:exclusiveGateway id="isNetworkOk_ExclusiveGateway" name="is Network Ok?" default="isNetworkOk_No_SequenceFlow">
        <bpmn2:incoming>isPONR_No_SequenceFlow</bpmn2:incoming>
        <bpmn2:outgoing>isNetworkOk_No_SequenceFlow</bpmn2:outgoing>
        <bpmn2:outgoing>isNetworkOk_Yes_SequenceFlow</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:sequenceFlow id="isNetworkOk_No_SequenceFlow" name="No" sourceRef="isNetworkOk_ExclusiveGateway" targetRef="sdncOk_ExclusiveGateway"/>
      <bpmn2:sequenceFlow id="isNetworkOk_Yes_SequenceFlow" name="Yes" sourceRef="isNetworkOk_ExclusiveGateway" targetRef="sdncOk_ExclusiveGateway">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[#{execution.getVariable("UPDNETI_isNetworkRollbackNeeded") == true}]]></bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:exclusiveGateway id="sdncOk_ExclusiveGateway" name="is Sdnc Ok?" default="sdncOk_No_ExclusiveGateway">
        <bpmn2:incoming>isNetworkOk_No_SequenceFlow</bpmn2:incoming>
        <bpmn2:incoming>isNetworkOk_Yes_SequenceFlow</bpmn2:incoming>
        <bpmn2:outgoing>sdncOk_Yeso_ExclusiveGateway</bpmn2:outgoing>
        <bpmn2:outgoing>sdncOk_No_ExclusiveGateway</bpmn2:outgoing>
      </bpmn2:exclusiveGateway>
      <bpmn2:sequenceFlow id="sdncOk_Yeso_ExclusiveGateway" name="Yes" sourceRef="sdncOk_ExclusiveGateway" targetRef="prepareSDNCRollbackRequest_ScriptTask">
        <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[#{execution.getVariable("UPDNETI_isSdncRollbackNeeded" ) == true}]]></bpmn2:conditionExpression>
      </bpmn2:sequenceFlow>
      <bpmn2:sequenceFlow id="sdncOk_No_ExclusiveGateway" name="No" sourceRef="sdncOk_ExclusiveGateway" targetRef="validateRollbacksResponse_ScriptTask_2"/>
      <bpmn2:scriptTask id="prepareSDNCRollbackRequest_ScriptTask" name="Prepare SDNCRollback Request" scriptFormat="groovy">
        <bpmn2:incoming>sdncOk_Yeso_ExclusiveGateway</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_53</bpmn2:outgoing>
        <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.prepareSDNCRollbackRequest(execution)]]></bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:sequenceFlow id="SequenceFlow_53" name="" sourceRef="prepareSDNCRollbackRequest_ScriptTask" targetRef="sdncTopoRollback_IntermediateThrowEvent"/>
      <bpmn2:intermediateThrowEvent id="sdncTopoRollback_IntermediateThrowEvent" name="SDNC Rollback">
        <bpmn2:incoming>SequenceFlow_53</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_55</bpmn2:outgoing>
        <bpmn2:compensateEventDefinition id="sndc_CompensateEventDefinition" activityRef="callRollbackSDNCAdapter_CallActivity" waitForCompletion="true"/>
      </bpmn2:intermediateThrowEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_55" name="" sourceRef="sdncTopoRollback_IntermediateThrowEvent" targetRef="validateRollbacksResponse_ScriptTask_2"/>
      <bpmn2:scriptTask id="prepareDBInfraErrorRequest_ScriptTask" name="Prepare DB Infra Error" scriptFormat="groovy">
        <bpmn2:incoming>SequenceFlow_47</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_22</bpmn2:outgoing>
        <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.prepareDBRequestError(execution)]]></bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:sequenceFlow id="SequenceFlow_22" name="" sourceRef="prepareDBInfraErrorRequest_ScriptTask" targetRef="callDBInfraErrorUpdate_ServiceTask_1"/>
      <bpmn2:serviceTask id="callDBInfraErrorUpdate_ServiceTask_1" name="Call DB Infra Error Update">
        <bpmn2:extensionElements>
          <camunda:connector>
            <camunda:connectorId>http-connector</camunda:connectorId>
            <camunda:inputOutput>
              <camunda:inputParameter name="url">${URN_mso_adapters_db_endpoint}</camunda:inputParameter>
              <camunda:inputParameter name="payload">${UPDNETI_updateDBRequest}</camunda:inputParameter>
              <camunda:inputParameter name="headers">
                <camunda:map>
                  <camunda:entry key="content-type">application/soap+xml</camunda:entry>
                </camunda:map>
              </camunda:inputParameter>
              <camunda:inputParameter name="method">POST</camunda:inputParameter>
              <camunda:outputParameter name="UPDNETI_updateDBResponse">${response}</camunda:outputParameter>
              <camunda:outputParameter name="UPDNETI_dbReturnCode">${statusCode}</camunda:outputParameter>
            </camunda:inputOutput>
          </camunda:connector>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_22</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_19</bpmn2:outgoing>
      </bpmn2:serviceTask>
      <bpmn2:sequenceFlow id="SequenceFlow_19" name="" sourceRef="callDBInfraErrorUpdate_ServiceTask_1" targetRef="prepareFalloutHandler_ScriptTask"/>
      <bpmn2:callActivity id="faultHandler_CallActivity" name="Call FalloutHandlerV1" calledElement="FalloutHandler">
        <bpmn2:extensionElements>
          <camunda:in variables="all"/>
          <camunda:out variables="all"/>
          <camunda:in source="UPDNETI_FalloutHandlerRequest" target="FalloutHandlerRequest"/>
          <camunda:in source="mso-request-id" target="mso-request-id"/>
          <camunda:in source="mso-service-instance-id" target="mso-service-instance-id"/>
          <camunda:out source="FH_ResponseCode" target="FH_ResponseCode"/>
          <camunda:out source="FalloutHandlerResponse" target="FalloutHandlerResponse"/>
          <camunda:out source="FH_ErrorResponse" target="FH_ErrorResponse"/>
        </bpmn2:extensionElements>
        <bpmn2:incoming>SequenceFlow_25</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_18</bpmn2:outgoing>
      </bpmn2:callActivity>
      <bpmn2:sequenceFlow id="SequenceFlow_18" name="" sourceRef="faultHandler_CallActivity" targetRef="EndEvent_4"/>
      <bpmn2:endEvent id="EndEvent_4">
        <bpmn2:incoming>SequenceFlow_18</bpmn2:incoming>
      </bpmn2:endEvent>
      <bpmn2:scriptTask id="validateRollbacksResponse_ScriptTask_2" name="Validate Rollback Responses" scriptFormat="groovy">
        <bpmn2:incoming>SequenceFlow_55</bpmn2:incoming>
        <bpmn2:incoming>sdncOk_No_ExclusiveGateway</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_4</bpmn2:outgoing>
        <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.validateRollbackResponses(execution)]]></bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:sequenceFlow id="SequenceFlow_4" name="" sourceRef="validateRollbacksResponse_ScriptTask_2" targetRef="InclusiveGateway_6"/>
      <bpmn2:inclusiveGateway id="InclusiveGateway_6">
        <bpmn2:incoming>isRollbackOn_NoNetwork_SequenceFlow</bpmn2:incoming>
        <bpmn2:incoming>isPONR_Yes_SequenceFlow</bpmn2:incoming>
        <bpmn2:incoming>SequenceFlow_4</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_47</bpmn2:outgoing>
      </bpmn2:inclusiveGateway>
      <bpmn2:sequenceFlow id="SequenceFlow_47" name="" sourceRef="InclusiveGateway_6" targetRef="prepareDBInfraErrorRequest_ScriptTask"/>
      <bpmn2:scriptTask id="prepareFalloutHandler_ScriptTask" name="Prepare FalloutHandler" scriptFormat="groovy">
        <bpmn2:incoming>SequenceFlow_19</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_25</bpmn2:outgoing>
        <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def buildErrorResponse = new UpdateNetworkInstanceInfra()
buildErrorResponse.buildErrorResponse(execution)
]]></bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:sequenceFlow id="SequenceFlow_25" name="" sourceRef="prepareFalloutHandler_ScriptTask" targetRef="faultHandler_CallActivity"/>
    </bpmn2:subProcess>
    <bpmn2:scriptTask id="callRESTReQuery2NetworkID_ScriptTask" name="Call REST ReQuery2 Network Id in AAI" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_35</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTReQueryAAINetworkId(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_35" name="" sourceRef="callRESTReQuery2NetworkID_ScriptTask" targetRef="callRESTUpdateContrailNetwork_ScriptTask"/>
    <bpmn2:scriptTask id="callRESTUpdateContrailNetwork_ScriptTask" name="Call REST Update Contrail Network in AAI" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_35</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_46</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTUpdateContrailAAINetwork(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_46" name="PONR" sourceRef="callRESTUpdateContrailNetwork_ScriptTask" targetRef="prepareDBInfraRequest_ScriptTask"/>
    <bpmn2:scriptTask id="prepareDBInfraRequest_ScriptTask" name="Prepare DB Infra Request" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_46</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_37</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.prepareDBRequest(execution)

]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_37" name="" sourceRef="prepareDBInfraRequest_ScriptTask" targetRef="callDBInfra_ServiceTask"/>
    <bpmn2:serviceTask id="callDBInfra_ServiceTask" name="Call DB Infra Update">
      <bpmn2:extensionElements>
        <camunda:connector>
          <camunda:connectorId>http-connector</camunda:connectorId>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${URN_mso_adapters_db_endpoint}</camunda:inputParameter>
            <camunda:inputParameter name="payload">${UPDNETI_updateDBRequest}</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="content-type">application/soap+xml</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:outputParameter name="UPDNETI_createDBResponse">${response}</camunda:outputParameter>
            <camunda:outputParameter name="UPDNETI_dbReturnCode">${statusCode}</camunda:outputParameter>
          </camunda:inputOutput>
        </camunda:connector>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_37</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_27</bpmn2:outgoing>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="SequenceFlow_27" name="" sourceRef="callDBInfra_ServiceTask" targetRef="postProcessAndCompletionRequest_ScriptTask"/>
    <bpmn2:callActivity id="callCompleteMsoProcess_CallActivity" name="Call CompleteMsoProcess" calledElement="CompleteMsoProcess">
      <bpmn2:extensionElements>
        <camunda:in variables="all"/>
        <camunda:out variables="all"/>
        <camunda:in source="UPDNETI_CompleteMsoProcessRequest" target="CompleteMsoProcessRequest"/>
        <camunda:in source="mso-request-id" target="mso-request-id"/>
        <camunda:in source="mso-service-instance-id" target="mso-service-instance-id"/>
        <camunda:out source="CMSO_ResponseCode" target="CMSO_ResponseCode"/>
        <camunda:out source="CompleteMsoProcessResponse" target="CompleteMsoProcessResponse"/>
        <camunda:out source="CMSO_ErrorResponse" target="CMSO_ErrorResponse"/>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_29</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_17</bpmn2:outgoing>
    </bpmn2:callActivity>
    <bpmn2:sequenceFlow id="SequenceFlow_17" name="" sourceRef="callCompleteMsoProcess_CallActivity" targetRef="EndEvent_3"/>
    <bpmn2:endEvent id="EndEvent_3">
      <bpmn2:incoming>SequenceFlow_17</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:subProcess id="unexpectedErrors_SubProcess" name="Sub-process for UnexpectedErrors" triggeredByEvent="true">
      <bpmn2:scriptTask id="ScriptTask_1" name="Log / Print Unexpected Error" scriptFormat="groovy">
        <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>
        <bpmn2:outgoing>SequenceFlow_14</bpmn2:outgoing>
        <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.processJavaException(execution)]]></bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:sequenceFlow id="SequenceFlow_14" name="" sourceRef="ScriptTask_1" targetRef="EndEvent_1"/>
      <bpmn2:startEvent id="StartEvent_1">
        <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>
        <bpmn2:errorEventDefinition id="ErrorEventDefinition_2" errorRef="Error_1"/>
      </bpmn2:startEvent>
      <bpmn2:sequenceFlow id="SequenceFlow_10" name="" sourceRef="StartEvent_1" targetRef="ScriptTask_1"/>
      <bpmn2:endEvent id="EndEvent_1">
        <bpmn2:incoming>SequenceFlow_14</bpmn2:incoming>
      </bpmn2:endEvent>
    </bpmn2:subProcess>
    <bpmn2:scriptTask id="preProcessRequest_ScriptTask" name="PreProcess Incoming Request" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_1</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.preProcessRequest(execution)
]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_7" name="" sourceRef="preProcessRequest_ScriptTask" targetRef="sendSyncAckResponse_ScriptTask"/>
    <bpmn2:scriptTask id="callRESTQueryCloudRegion_ScriptTask" name="Call REST Query Cloud Region " scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_24</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_32</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTQueryAAICloudRegion(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_32" name="" sourceRef="callRESTQueryCloudRegion_ScriptTask" targetRef="prepareSDNCTopoRequest_ScriptTask"/>
    <bpmn2:scriptTask id="callRESTQueryNetworkId_ScriptTask" name="Call REST Query Network Id In AAI" scriptFormat="groovy">
      <bpmn2:incoming>siFoundYes</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_24</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTQueryAAINetworkId(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_24" name="" sourceRef="callRESTQueryNetworkId_ScriptTask" targetRef="callRESTQueryCloudRegion_ScriptTask"/>
    <bpmn2:endEvent id="EndEvent_2">
      <bpmn2:incoming>SequenceFlow_30</bpmn2:incoming>
      <bpmn2:errorEventDefinition id="_ErrorEventDefinition_97" errorRef="Error_2"/>
    </bpmn2:endEvent>
    <bpmn2:scriptTask id="workflowExceptionSINotFound" name="Create Workflow Exception" scriptFormat="groovy">
      <bpmn2:incoming>siFoundNo</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_30</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.utils.*
ExceptionUtil exceptionUtil = new ExceptionUtil()
exceptionUtil.buildWorkflowException(execution, 404, "Service Instance Not Found")]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_30" name="" sourceRef="workflowExceptionSINotFound" targetRef="EndEvent_2"/>
    <bpmn2:exclusiveGateway id="siFoundCheck" name="is SI Found?" default="siFoundNo">
      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>
      <bpmn2:outgoing>siFoundYes</bpmn2:outgoing>
      <bpmn2:outgoing>siFoundNo</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:sequenceFlow id="siFoundYes" name="Yes" sourceRef="siFoundCheck" targetRef="callRESTQueryNetworkId_ScriptTask">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[#{execution.getVariable("GENGSI_FoundIndicator" ) == true && execution.getVariable("GENGSI_SuccessIndicator" ) == true}]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="siFoundNo" name="No" sourceRef="siFoundCheck" targetRef="workflowExceptionSINotFound"/>
    <bpmn2:callActivity id="callGetServiceInstance" name="Get&#xD;&#xA;Service&#xD;&#xA;Instance" calledElement="GenericGetService">
      <bpmn2:extensionElements>
        <camunda:in source="UPDNETI_serviceInstanceId" target="GENGS_serviceInstanceId"/>
        <camunda:out source="GENGS_serviceInstance" target="UPDNETI_serviceInstanceId"/>
        <camunda:out source="GENGS_FoundIndicator" target="GENGSI_FoundIndicator"/>
        <camunda:out source="GENGS_SuccessIndicator" target="GENGSI_SuccessIndicator"/>
        <camunda:out source="GENGS_siResourceLink" target="GENGSI_siResourceLink"/>
        <camunda:out source="WorkflowException" target="WorkflowException"/>
        <camunda:in source="GENGS_type" target="GENGS_type"/>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_28</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>
    </bpmn2:callActivity>
    <bpmn2:sequenceFlow id="SequenceFlow_3" name="" sourceRef="callGetServiceInstance" targetRef="siFoundCheck"/>
    <bpmn2:scriptTask id="sendSyncAckResponse_ScriptTask" name="Send Sync Ack Response" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_28</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new  UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.sendSyncResponse(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_28" name="" sourceRef="sendSyncAckResponse_ScriptTask" targetRef="callGetServiceInstance"/>
    <bpmn2:scriptTask id="validateUpdatePONetwork_ScriptTask" name="Validate Update PO Network" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_59</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.validateUpdateNetworkResponse(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_13" name="" sourceRef="validateUpdatePONetwork_ScriptTask" targetRef="callRESTReQuery2NetworkID_ScriptTask"/>
    <bpmn2:serviceTask id="callUpdateNetwork_ServiceTask" name="Call Update Network">
      <bpmn2:extensionElements>
        <camunda:connector>
          <camunda:connectorId>http-connector</camunda:connectorId>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">${UPDNETI_updateNetworkRequest}</camunda:inputParameter>
            <camunda:inputParameter name="url">${URN_mso_adapters_network_rest_endpoint}/${UPDNETI_networkId}</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Authorization">#{BasicAuthHeaderValuePO}</camunda:entry>
                <camunda:entry key="content-type">application/xml</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="method">PUT</camunda:inputParameter>
            <camunda:outputParameter name="UPDNETI_networkReturnCode">${statusCode}</camunda:outputParameter>
            <camunda:outputParameter name="UPDNETI_updateNetworkResponse">${response}</camunda:outputParameter>
          </camunda:inputOutput>
        </camunda:connector>
      </bpmn2:extensionElements>
      <bpmn2:incoming>SequenceFlow_61</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_59</bpmn2:outgoing>
    </bpmn2:serviceTask>
    <bpmn2:sequenceFlow id="SequenceFlow_59" name="" sourceRef="callUpdateNetwork_ServiceTask" targetRef="validateUpdatePONetwork_ScriptTask"/>
    <bpmn2:scriptTask id="prepareNetworkRequest_ScriptTask" name="Prepare Create Network Request" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_61</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.prepareUpdateNetworkRequest(execution)
]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_61" name="" sourceRef="prepareNetworkRequest_ScriptTask" targetRef="callUpdateNetwork_ServiceTask"/>
    <bpmn2:scriptTask id="callRESTQueryNetworkTableRef_ScriptTask" name="Call REST Query Network TableRef in AAI" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_38</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTQueryAAINetworkTableRef(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_2" name="" sourceRef="callRESTQueryNetworkTableRef_ScriptTask" targetRef="prepareNetworkRequest_ScriptTask"/>
    <bpmn2:scriptTask id="callRESTReQuery1NetworkID_ScriptTask" name="Call REST ReQuery1 Network Id in AAI" scriptFormat="groovy">
      <bpmn2:incoming>sdncTopoYes_SequenceFlow</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTReQueryAAINetworkId(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_6" name="" sourceRef="callRESTReQuery1NetworkID_ScriptTask" targetRef="callRESTQueryVpnBinding_ScriptTask"/>
    <bpmn2:scriptTask id="callRESTQueryVpnBinding_ScriptTask" name="Call REST Query Vpn Binding in AAI" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_15</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTQueryAAINetworkVpnBinding(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_15" name="" sourceRef="callRESTQueryVpnBinding_ScriptTask" targetRef="callRESTQueryNetworkPolicy_ScriptTask"/>
    <bpmn2:scriptTask id="callRESTQueryNetworkPolicy_ScriptTask" name="Call REST Query Network Policy in AAI" scriptFormat="groovy">
      <bpmn2:incoming>SequenceFlow_15</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_38</bpmn2:outgoing>
      <bpmn2:script><![CDATA[import org.openecomp.mso.bpmn.infrastructure.scripts.*
def UpdateNetworkInstanceInfra = new UpdateNetworkInstanceInfra()
UpdateNetworkInstanceInfra.callRESTQueryAAINetworkPolicy(execution)]]></bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:sequenceFlow id="SequenceFlow_38" name="" sourceRef="callRESTQueryNetworkPolicy_ScriptTask" targetRef="callRESTQueryNetworkTableRef_ScriptTask"/>
    <bpmn2:association id="Association_1" sourceRef="sndcCompensation_BoundaryEvent" targetRef="callRollbackSDNCAdapter_CallActivity"/>
  </bpmn2:process>
  <bpmn2:error id="Error_2" errorCode="MSOWorkflowException" name="MSOWorkflowException"/>
  <bpmn2:error id="Error_1" errorCode="java.lang.Exception" name="java.lang.Exception"/>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="UpdateNetworkInstanceInfra">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_47" bpmnElement="updateNetwork_startEvent">
        <dc:Bounds height="36.0" width="36.0" x="192.0" y="185.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="34.0" x="193.0" y="226.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_61" bpmnElement="preProcessRequest_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="350.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_1" bpmnElement="SequenceFlow_1" sourceElement="_BPMNShape_StartEvent_47" targetElement="_BPMNShape_ScriptTask_61">
        <di:waypoint xsi:type="dc:Point" x="228.0" y="203.0"/>
        <di:waypoint xsi:type="dc:Point" x="350.0" y="203.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="249.0" y="203.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_63" bpmnElement="validateUpdatePONetwork_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1343.0" y="1311.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_CallActivity_3" bpmnElement="faultHandler_CallActivity">
        <dc:Bounds height="80.0" width="100.0" x="996.0" y="806.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ServiceTask_83" bpmnElement="callUpdateNetwork_ServiceTask">
        <dc:Bounds height="80.0" width="100.0" x="1342.0" y="1176.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_67" bpmnElement="prepareSDNCTopoRequest_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1343.0" y="276.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_CallActivity_4" bpmnElement="callCompleteMsoProcess_CallActivity">
        <dc:Bounds height="80.0" width="100.0" x="137.0" y="1395.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_SubProcess_16" bpmnElement="subProcessException_SubProcess" isExpanded="true">
        <dc:Bounds height="567.0" width="1122.0" x="17.0" y="585.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_50" bpmnElement="subProcessStart_StartEvent">
        <dc:Bounds height="36.0" width="36.0" x="48.0" y="1040.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="67.0" x="33.0" y="1081.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_79" bpmnElement="prepareFalloutHandler_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="756.0" y="806.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ExclusiveGateway_67" bpmnElement="isSdncTopoOk_ExclusiveGateway" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="1523.0" y="520.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="125.0" x="1487.0" y="569.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_26" bpmnElement="sdncTopoNo_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_67" targetElement="_BPMNShape_EndEvent_124">
        <di:waypoint xsi:type="dc:Point" x="1573.0" y="545.0"/>
        <di:waypoint xsi:type="dc:Point" x="1682.0" y="546.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="22.0" x="1577.0" y="546.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_28" bpmnElement="sdncTopoYes_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_67" targetElement="_BPMNShape_ScriptTask_336">
        <di:waypoint xsi:type="dc:Point" x="1523.0" y="545.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="545.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="576.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="29.0" x="1500.0" y="545.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_80" bpmnElement="postProcessAndCompletionRequest_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="347.0" y="1392.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_83" bpmnElement="prepareDBInfraRequest_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="792.0" y="1390.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ServiceTask_86" bpmnElement="callDBInfra_ServiceTask">
        <dc:Bounds height="80.0" width="100.0" x="564.0" y="1392.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_124" bpmnElement="sndcError_EndEvent">
        <dc:Bounds height="36.0" width="36.0" x="1682.0" y="528.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="74.0" x="1663.0" y="569.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_CallActivity_19" bpmnElement="callAssignSDNCAdapter_CallActivity">
        <dc:Bounds height="80.0" width="100.0" x="1341.0" y="395.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_BoundaryEvent_29" bpmnElement="sndcCompensation_BoundaryEvent">
        <dc:Bounds height="36.0" width="36.0" x="1323.0" y="434.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="82.0" x="1280.0" y="474.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_24" bpmnElement="SequenceFlow_11" sourceElement="_BPMNShape_ScriptTask_67" targetElement="_BPMNShape_CallActivity_19">
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="356.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="374.0"/>
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="374.0"/>
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="395.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1389.0" y="374.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_29" bpmnElement="SequenceFlow_12" sourceElement="_BPMNShape_CallActivity_19" targetElement="_BPMNShape_ScriptTask_131">
        <di:waypoint xsi:type="dc:Point" x="1441.0" y="435.0"/>
        <di:waypoint xsi:type="dc:Point" x="1499.0" y="435.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1473.0" y="435.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_Association_1" bpmnElement="Association_1" sourceElement="_BPMNShape_BoundaryEvent_29" targetElement="_BPMNShape_CallActivity_21">
        <di:waypoint xsi:type="dc:Point" x="1323.0" y="447.0"/>
        <di:waypoint xsi:type="dc:Point" x="1290.0" y="438.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_12" bpmnElement="SequenceFlow_7" sourceElement="_BPMNShape_ScriptTask_61" targetElement="_BPMNShape_ScriptTask_127">
        <di:waypoint xsi:type="dc:Point" x="450.0" y="203.0"/>
        <di:waypoint xsi:type="dc:Point" x="516.0" y="203.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="481.0" y="203.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_127" bpmnElement="sendSyncAckResponse_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="516.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_35" bpmnElement="SequenceFlow_23" sourceElement="_BPMNShape_StartEvent_50" targetElement="_BPMNShape_ExclusiveGateway_90">
        <di:waypoint xsi:type="dc:Point" x="84.0" y="1058.0"/>
        <di:waypoint xsi:type="dc:Point" x="131.0" y="1058.0"/>
        <di:waypoint xsi:type="dc:Point" x="131.0" y="1057.0"/>
        <di:waypoint xsi:type="dc:Point" x="161.0" y="1057.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="96.0" y="1058.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_IntermediateThrowEvent_24" bpmnElement="sdncTopoRollback_IntermediateThrowEvent">
        <dc:Bounds height="36.0" width="36.0" x="470.0" y="867.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="96.0" x="440.0" y="906.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_38" bpmnElement="SequenceFlow_25" sourceElement="_BPMNShape_ScriptTask_79" targetElement="_BPMNShape_CallActivity_3">
        <di:waypoint xsi:type="dc:Point" x="856.0" y="846.0"/>
        <di:waypoint xsi:type="dc:Point" x="996.0" y="846.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="881.0" y="846.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_131" bpmnElement="validateSDNCResponse_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1499.0" y="395.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_11" bpmnElement="SequenceFlow_5" sourceElement="_BPMNShape_ScriptTask_131" targetElement="_BPMNShape_ExclusiveGateway_67">
        <di:waypoint xsi:type="dc:Point" x="1549.0" y="475.0"/>
        <di:waypoint xsi:type="dc:Point" x="1549.0" y="492.0"/>
        <di:waypoint xsi:type="dc:Point" x="1548.0" y="492.0"/>
        <di:waypoint xsi:type="dc:Point" x="1548.0" y="520.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1545.0" y="503.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_40" bpmnElement="SequenceFlow_27" sourceElement="_BPMNShape_ServiceTask_86" targetElement="_BPMNShape_ScriptTask_80">
        <di:waypoint xsi:type="dc:Point" x="564.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="506.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="506.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="447.0" y="1432.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="528.0" y="1432.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_42" bpmnElement="SequenceFlow_29" sourceElement="_BPMNShape_ScriptTask_80" targetElement="_BPMNShape_CallActivity_4">
        <di:waypoint xsi:type="dc:Point" x="347.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="292.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="292.0" y="1435.0"/>
        <di:waypoint xsi:type="dc:Point" x="237.0" y="1435.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="290.0" y="1512.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_CallActivity_21" bpmnElement="callRollbackSDNCAdapter_CallActivity">
        <dc:Bounds height="80.0" width="100.0" x="1190.0" y="384.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_133" bpmnElement="callRESTQueryNetworkId_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="984.0" y="100.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_134" bpmnElement="callRESTReQuery2NetworkID_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1176.0" y="1390.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_135" bpmnElement="callRESTUpdateContrailNetwork_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="984.0" y="1392.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_54" bpmnElement="SequenceFlow_35" sourceElement="_BPMNShape_ScriptTask_134" targetElement="_BPMNShape_ScriptTask_135">
        <di:waypoint xsi:type="dc:Point" x="1176.0" y="1430.0"/>
        <di:waypoint xsi:type="dc:Point" x="1118.0" y="1430.0"/>
        <di:waypoint xsi:type="dc:Point" x="1118.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="1084.0" y="1432.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1143.0" y="1657.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_58" bpmnElement="SequenceFlow_37" sourceElement="_BPMNShape_ScriptTask_83" targetElement="_BPMNShape_ServiceTask_86">
        <di:waypoint xsi:type="dc:Point" x="792.0" y="1430.0"/>
        <di:waypoint xsi:type="dc:Point" x="691.0" y="1430.0"/>
        <di:waypoint xsi:type="dc:Point" x="691.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="664.0" y="1432.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="773.0" y="1430.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_65" bpmnElement="SequenceFlow_46" sourceElement="_BPMNShape_ScriptTask_135" targetElement="_BPMNShape_ScriptTask_83">
        <di:waypoint xsi:type="dc:Point" x="984.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="926.0" y="1432.0"/>
        <di:waypoint xsi:type="dc:Point" x="926.0" y="1430.0"/>
        <di:waypoint xsi:type="dc:Point" x="892.0" y="1430.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="947.0" y="1432.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_156" bpmnElement="callRESTQueryVpnBinding_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1341.0" y="688.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_18" bpmnElement="SequenceFlow_15" sourceElement="_BPMNShape_ScriptTask_156" targetElement="_BPMNShape_ScriptTask_215">
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="768.0"/>
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="810.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1388.0" y="781.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_87" bpmnElement="SequenceFlow_59" sourceElement="_BPMNShape_ServiceTask_83" targetElement="_BPMNShape_ScriptTask_63">
        <di:waypoint xsi:type="dc:Point" x="1392.0" y="1256.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="1311.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1390.0" y="1284.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_157" bpmnElement="prepareNetworkRequest_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1342.0" y="1052.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_89" bpmnElement="SequenceFlow_61" sourceElement="_BPMNShape_ScriptTask_157" targetElement="_BPMNShape_ServiceTask_83">
        <di:waypoint xsi:type="dc:Point" x="1392.0" y="1132.0"/>
        <di:waypoint xsi:type="dc:Point" x="1392.0" y="1176.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1389.0" y="1159.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ExclusiveGateway_90" bpmnElement="isRollbackOn_Network_ExclusiveGateway" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="161.0" y="1032.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="98.0" x="138.0" y="1092.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_25" bpmnElement="isRollbackOn_YesNetwork_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_90" targetElement="_BPMNShape_ExclusiveGateway_215">
        <di:waypoint xsi:type="dc:Point" x="186.0" y="1032.0"/>
        <di:waypoint xsi:type="dc:Point" x="186.0" y="1004.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="29.0" x="186.0" y="1020.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_34" bpmnElement="isRollbackOn_NoNetwork_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_90" targetElement="_BPMNShape_InclusiveGateway_24">
        <di:waypoint xsi:type="dc:Point" x="211.0" y="1057.0"/>
        <di:waypoint xsi:type="dc:Point" x="361.0" y="1057.0"/>
        <di:waypoint xsi:type="dc:Point" x="361.0" y="1004.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="22.0" x="211.0" y="1062.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_215" bpmnElement="callRESTQueryNetworkPolicy_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1341.0" y="810.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_60" bpmnElement="SequenceFlow_38" sourceElement="_BPMNShape_ScriptTask_215" targetElement="_BPMNShape_ScriptTask_335">
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="890.0"/>
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="926.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1388.0" y="900.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_InclusiveGateway_24" bpmnElement="InclusiveGateway_6">
        <dc:Bounds height="50.0" width="50.0" x="336.0" y="954.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="361.0" y="1009.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ExclusiveGateway_215" bpmnElement="isPONR_ExclusiveGateway" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="161.0" y="954.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="60.0" x="88.0" y="969.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_77" bpmnElement="isPONR_Yes_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_215" targetElement="_BPMNShape_InclusiveGateway_24">
        <di:waypoint xsi:type="dc:Point" x="211.0" y="979.0"/>
        <di:waypoint xsi:type="dc:Point" x="336.0" y="979.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="29.0" x="204.0" y="983.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_85" bpmnElement="isPONR_No_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_215" targetElement="_BPMNShape_ExclusiveGateway_216">
        <di:waypoint xsi:type="dc:Point" x="186.0" y="954.0"/>
        <di:waypoint xsi:type="dc:Point" x="186.0" y="884.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="22.0" x="191.0" y="933.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ExclusiveGateway_216" bpmnElement="isNetworkOk_ExclusiveGateway" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="161.0" y="834.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="95.0" x="68.0" y="849.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_86" bpmnElement="isNetworkOk_No_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_216" targetElement="_BPMNShape_ExclusiveGateway_217">
        <di:waypoint xsi:type="dc:Point" x="211.0" y="859.0"/>
        <di:waypoint xsi:type="dc:Point" x="273.0" y="859.0"/>
        <di:waypoint xsi:type="dc:Point" x="273.0" y="781.0"/>
        <di:waypoint xsi:type="dc:Point" x="336.0" y="781.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="22.0" x="211.0" y="863.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_90" bpmnElement="isNetworkOk_Yes_SequenceFlow" sourceElement="_BPMNShape_ExclusiveGateway_216" targetElement="_BPMNShape_ExclusiveGateway_217">
        <di:waypoint xsi:type="dc:Point" x="186.0" y="834.0"/>
        <di:waypoint xsi:type="dc:Point" x="186.0" y="781.0"/>
        <di:waypoint xsi:type="dc:Point" x="273.0" y="781.0"/>
        <di:waypoint xsi:type="dc:Point" x="336.0" y="781.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="29.0" x="192.0" y="814.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ExclusiveGateway_217" bpmnElement="sdncOk_ExclusiveGateway" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="336.0" y="756.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="78.0" x="323.0" y="722.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_92" bpmnElement="sdncOk_Yeso_ExclusiveGateway" sourceElement="_BPMNShape_ExclusiveGateway_217" targetElement="_BPMNShape_ScriptTask_261">
        <di:waypoint xsi:type="dc:Point" x="386.0" y="781.0"/>
        <di:waypoint xsi:type="dc:Point" x="438.0" y="781.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="29.0" x="386.0" y="779.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_93" bpmnElement="sdncOk_No_ExclusiveGateway" sourceElement="_BPMNShape_ExclusiveGateway_217" targetElement="_BPMNShape_ScriptTask_262">
        <di:waypoint xsi:type="dc:Point" x="361.0" y="806.0"/>
        <di:waypoint xsi:type="dc:Point" x="362.0" y="845.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="22.0" x="366.0" y="806.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_177" bpmnElement="EndEvent_3">
        <dc:Bounds height="36.0" width="36.0" x="169.0" y="1536.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="187.0" y="1577.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_30" bpmnElement="SequenceFlow_17" sourceElement="_BPMNShape_CallActivity_4" targetElement="_BPMNShape_EndEvent_177">
        <di:waypoint xsi:type="dc:Point" x="187.0" y="1475.0"/>
        <di:waypoint xsi:type="dc:Point" x="187.0" y="1536.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="184.0" y="1475.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_178" bpmnElement="EndEvent_4">
        <dc:Bounds height="36.0" width="36.0" x="1028.0" y="924.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="1046.0" y="965.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_32" bpmnElement="SequenceFlow_18" sourceElement="_BPMNShape_CallActivity_3" targetElement="_BPMNShape_EndEvent_178">
        <di:waypoint xsi:type="dc:Point" x="1046.0" y="886.0"/>
        <di:waypoint xsi:type="dc:Point" x="1046.0" y="924.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1043.0" y="888.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_36" bpmnElement="SequenceFlow_19" sourceElement="_BPMNShape_ServiceTask_97" targetElement="_BPMNShape_ScriptTask_79">
        <di:waypoint xsi:type="dc:Point" x="676.0" y="846.0"/>
        <di:waypoint xsi:type="dc:Point" x="756.0" y="846.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="686.0" y="846.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ServiceTask_97" bpmnElement="callDBInfraErrorUpdate_ServiceTask_1">
        <dc:Bounds height="80.0" width="100.0" x="576.0" y="806.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_218" bpmnElement="prepareDBInfraErrorRequest_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="576.0" y="940.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_37" bpmnElement="SequenceFlow_22" sourceElement="_BPMNShape_ScriptTask_218" targetElement="_BPMNShape_ServiceTask_97">
        <di:waypoint xsi:type="dc:Point" x="626.0" y="940.0"/>
        <di:waypoint xsi:type="dc:Point" x="626.0" y="886.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="623.0" y="927.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_245" bpmnElement="callRESTQueryCloudRegion_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1200.0" y="100.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_53" bpmnElement="SequenceFlow_32" sourceElement="_BPMNShape_ScriptTask_245" targetElement="_BPMNShape_ScriptTask_67">
        <di:waypoint xsi:type="dc:Point" x="1300.0" y="140.0"/>
        <di:waypoint xsi:type="dc:Point" x="1394.0" y="140.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="259.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="276.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1314.0" y="140.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_BoundaryEvent_38" bpmnElement="BoundaryEvent_4">
        <dc:Bounds height="36.0" width="36.0" x="1581.0" y="377.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_69" bpmnElement="SequenceFlow_34" sourceElement="_BPMNShape_BoundaryEvent_38" targetElement="_BPMNShape_EndEvent_124">
        <di:waypoint xsi:type="dc:Point" x="1617.0" y="395.0"/>
        <di:waypoint xsi:type="dc:Point" x="1700.0" y="394.0"/>
        <di:waypoint xsi:type="dc:Point" x="1700.0" y="528.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1697.0" y="467.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_261" bpmnElement="prepareSDNCRollbackRequest_ScriptTask">
        <dc:Bounds height="79.0" width="100.0" x="438.0" y="742.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_262" bpmnElement="validateRollbacksResponse_ScriptTask_2">
        <dc:Bounds height="80.0" width="100.0" x="312.0" y="845.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_76" bpmnElement="SequenceFlow_47" sourceElement="_BPMNShape_InclusiveGateway_24" targetElement="_BPMNShape_ScriptTask_218">
        <di:waypoint xsi:type="dc:Point" x="386.0" y="979.0"/>
        <di:waypoint xsi:type="dc:Point" x="548.0" y="979.0"/>
        <di:waypoint xsi:type="dc:Point" x="548.0" y="980.0"/>
        <di:waypoint xsi:type="dc:Point" x="576.0" y="980.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="393.0" y="979.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_84" bpmnElement="SequenceFlow_53" sourceElement="_BPMNShape_ScriptTask_261" targetElement="_BPMNShape_IntermediateThrowEvent_24">
        <di:waypoint xsi:type="dc:Point" x="488.0" y="820.0"/>
        <di:waypoint xsi:type="dc:Point" x="488.0" y="867.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="485.0" y="847.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_88" bpmnElement="SequenceFlow_55" sourceElement="_BPMNShape_IntermediateThrowEvent_24" targetElement="_BPMNShape_ScriptTask_262">
        <di:waypoint xsi:type="dc:Point" x="470.0" y="885.0"/>
        <di:waypoint xsi:type="dc:Point" x="441.0" y="885.0"/>
        <di:waypoint xsi:type="dc:Point" x="441.0" y="885.0"/>
        <di:waypoint xsi:type="dc:Point" x="412.0" y="885.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="448.0" y="885.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_10" bpmnElement="SequenceFlow_4" sourceElement="_BPMNShape_ScriptTask_262" targetElement="_BPMNShape_InclusiveGateway_24">
        <di:waypoint xsi:type="dc:Point" x="362.0" y="925.0"/>
        <di:waypoint xsi:type="dc:Point" x="361.0" y="954.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="358.0" y="948.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_19" bpmnElement="SequenceFlow_13" sourceElement="_BPMNShape_ScriptTask_63" targetElement="_BPMNShape_ScriptTask_134">
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="1391.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="1430.0"/>
        <di:waypoint xsi:type="dc:Point" x="1310.0" y="1430.0"/>
        <di:waypoint xsi:type="dc:Point" x="1276.0" y="1430.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1390.0" y="1425.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_SubProcess_28" bpmnElement="unexpectedErrors_SubProcess" isExpanded="true">
        <dc:Bounds height="188.0" width="394.0" x="21.0" y="381.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_71" bpmnElement="StartEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="54.0" y="458.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="72.0" y="499.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_270" bpmnElement="ScriptTask_1">
        <dc:Bounds height="80.0" width="100.0" x="169.0" y="436.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_220" bpmnElement="EndEvent_1">
        <dc:Bounds height="36.0" width="36.0" x="330.0" y="458.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="348.0" y="499.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_5" bpmnElement="SequenceFlow_10" sourceElement="_BPMNShape_StartEvent_71" targetElement="_BPMNShape_ScriptTask_270">
        <di:waypoint xsi:type="dc:Point" x="90.0" y="476.0"/>
        <di:waypoint xsi:type="dc:Point" x="169.0" y="476.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="129.0" y="476.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_13" bpmnElement="SequenceFlow_14" sourceElement="_BPMNShape_ScriptTask_270" targetElement="_BPMNShape_EndEvent_220">
        <di:waypoint xsi:type="dc:Point" x="269.0" y="476.0"/>
        <di:waypoint xsi:type="dc:Point" x="330.0" y="476.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="301.0" y="476.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_CallActivity_72" bpmnElement="callGetServiceInstance">
        <dc:Bounds height="80.0" width="100.0" x="686.0" y="163.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ExclusiveGateway_244" bpmnElement="siFoundCheck" isMarkerVisible="true">
        <dc:Bounds height="50.0" width="50.0" x="836.0" y="177.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="79.0" x="891.0" y="195.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_3" bpmnElement="SequenceFlow_3" sourceElement="_BPMNShape_CallActivity_72" targetElement="_BPMNShape_ExclusiveGateway_244">
        <di:waypoint xsi:type="dc:Point" x="786.0" y="203.0"/>
        <di:waypoint xsi:type="dc:Point" x="805.0" y="203.0"/>
        <di:waypoint xsi:type="dc:Point" x="805.0" y="202.0"/>
        <di:waypoint xsi:type="dc:Point" x="836.0" y="202.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="799.0" y="203.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_17" bpmnElement="siFoundYes" sourceElement="_BPMNShape_ExclusiveGateway_244" targetElement="_BPMNShape_ScriptTask_133">
        <di:waypoint xsi:type="dc:Point" x="861.0" y="177.0"/>
        <di:waypoint xsi:type="dc:Point" x="861.0" y="140.0"/>
        <di:waypoint xsi:type="dc:Point" x="910.0" y="140.0"/>
        <di:waypoint xsi:type="dc:Point" x="984.0" y="140.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="29.0" x="868.0" y="157.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_EndEvent_247" bpmnElement="EndEvent_2">
        <dc:Bounds height="36.0" width="36.0" x="1155.0" y="278.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="0.0" width="0.0" x="1173.0" y="319.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_331" bpmnElement="workflowExceptionSINotFound">
        <dc:Bounds height="80.0" width="100.0" x="984.0" y="256.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_20" bpmnElement="siFoundNo" sourceElement="_BPMNShape_ExclusiveGateway_244" targetElement="_BPMNShape_ScriptTask_331">
        <di:waypoint xsi:type="dc:Point" x="861.0" y="227.0"/>
        <di:waypoint xsi:type="dc:Point" x="861.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="984.0" y="296.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="22.0" width="22.0" x="871.0" y="233.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_21" bpmnElement="SequenceFlow_30" sourceElement="_BPMNShape_ScriptTask_331" targetElement="_BPMNShape_EndEvent_247">
        <di:waypoint xsi:type="dc:Point" x="1084.0" y="296.0"/>
        <di:waypoint xsi:type="dc:Point" x="1155.0" y="296.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1103.0" y="296.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_22" bpmnElement="SequenceFlow_24" sourceElement="_BPMNShape_ScriptTask_133" targetElement="_BPMNShape_ScriptTask_245">
        <di:waypoint xsi:type="dc:Point" x="1084.0" y="140.0"/>
        <di:waypoint xsi:type="dc:Point" x="1200.0" y="140.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1127.0" y="140.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_27" bpmnElement="SequenceFlow_28" sourceElement="_BPMNShape_ScriptTask_127" targetElement="_BPMNShape_CallActivity_72">
        <di:waypoint xsi:type="dc:Point" x="616.0" y="203.0"/>
        <di:waypoint xsi:type="dc:Point" x="686.0" y="203.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="632.0" y="203.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_335" bpmnElement="callRESTQueryNetworkTableRef_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1341.0" y="926.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_2" bpmnElement="SequenceFlow_2" sourceElement="_BPMNShape_ScriptTask_335" targetElement="_BPMNShape_ScriptTask_157">
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="1006.0"/>
        <di:waypoint xsi:type="dc:Point" x="1392.0" y="1052.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1388.0" y="1028.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_ScriptTask_336" bpmnElement="callRESTReQuery1NetworkID_ScriptTask">
        <dc:Bounds height="80.0" width="100.0" x="1343.0" y="576.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_4" bpmnElement="SequenceFlow_6" sourceElement="_BPMNShape_ScriptTask_336" targetElement="_BPMNShape_ScriptTask_156">
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="656.0"/>
        <di:waypoint xsi:type="dc:Point" x="1393.0" y="672.0"/>
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="672.0"/>
        <di:waypoint xsi:type="dc:Point" x="1391.0" y="688.0"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="6.0" width="6.0" x="1390.0" y="666.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>